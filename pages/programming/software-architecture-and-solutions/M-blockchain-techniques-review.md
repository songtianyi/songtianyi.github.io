# 区块链技术概览

作者: [songtianyi](http://songtianyi.info) create@2020-01-31 

> 版权声明: 部分内容复制自网络，如有侵权，请联系本人删除

## 前言

这篇文章是我学习区块链的过程中边学边写所形成的。

## 基本概念

#### 什么是区块链？

* 狭义上，区块链是一种以区块为基本单位的链式数据结构，区块中利用数字摘要对之前的交易历史进行校验，适合分布式记账场景下防篡改和可扩展性的需求。
* 广义上，区块链还指代基于区块链结构实现的分布式记账技术，包括分布式共识、隐私与安全保护、点对点通信技术、网络协议、智能合约等。

所以，本文所讲的内容并不单单指区块链本身，还包括分布式电子加密货币所需要的各种底层技术。

1990 年 8 月，Bellcore（1984 年由 AT&T 拆分而来的研究机构）的 Stuart Haber 和 W. Scott Stornetta 在论文《How to Time-Stamp a Digital Document》中就提出利用链式结构来解决防篡改问题，其中新生成的时间证明需要包括之前证明的 Hash 值。这可以被认为是区块链结构的最早雏形。
后来，2005 年 7 月，在 Git 等开源软件中，也使用了类似区块链结构的机制来记录提交历史。
区块链结构最早的大规模应用出现在 2009 年初上线的比特币项目中。在无集中式管理的情况下，比特币网络持续稳定，支持了海量的交易记录，并且从未出现严重的漏洞，引发了广泛关注。这些都与区块链结构自身强校验的特性密切相关。

#### 区块链的组成

* 交易(Transaction) 一次对账本的操作，导致账本状态的一次改变，如添加一条转账记录
* 区块(Block) 记录一段时间内发生的所有交易和状态结果等，是对当前账本状态的一次共识
* 链(Chain) 由区块按照发生顺序串联而成，是整个账本状态变化的日志记录

区块链的目标是实现一个分布式的数据记录账本，这个账本只允许添加、不允许删除。账本底层的基本结构是一个线性的链表。链表由一个个“区块”串联组成（如下图所示），后继区块中记录前导区块的哈希（Hash）值。某个区块（以及块里的交易）是否合法，可通过计算哈希值的方式进行快速检验。网络中节点可以提议添加一个新的区块，但必须经过共识机制来对区块达成确认。

![image](https://songtianyi-blog.oss-cn-shenzhen.aliyuncs.com/block-chain-techniques-review-block-hash-chain.png)

#### 比特币交易

我们知道，区块链是比特币的技术实现的基础，那么一个交易过程是如何运用到区块链的呢？

在上图的基础上，我们发起一笔交易，这笔交易将账户 A 的余额减少 3, 账户 B 的余额增加 3, 将交易信息放进 block 的 transaction 结构里，并添加上一个 block 的 hash 值到当前的 block 里，构造好这个 block 结构之后，广播出去，这样整个网络中的节点都会收到该交易请求，然后将这个记录添加到这个链式结构里。

问题是，如何判断这个交易是否合法？

## 参考资料

* [《区块链技术指南》](https://yeasy.gitbook.io/blockchain_guide/)
