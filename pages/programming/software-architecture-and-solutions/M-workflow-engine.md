# 工作流引擎

### 前言

软件开发面临的一个主要问题就是需求的多样性，尤其是对于 toB 的企业，客户的环境会有很大差异，因此需求的差异也是巨大的。

### 核心构成

#### 语言

首先是，我们应该如何表达工作流。对于简单的场景，你可以用任何格式的文件，把你想要完成的工作按照步骤写下来，这其实就是一个工作流的编排过程。使用的格式我们称之为工作流语言，它是用来表达工作流的。那么，是不是任何语言都可以？显然不是，不同语言的适用场景是不同的，我们不会用自然语言，因为将自然语言翻译成程序逻辑目前来看还是很困难的事情, 不会用 xml，因为它对人其实没那么友好。那么 toml, yaml, json 呢？

#### 解释器和执行引擎

之后，有了表达工作流的语言之后，我们如何解释它，把它翻译成程序逻辑，运行，然后得到结果，我把它称之为 `interpreter` , 类似于动态语言的解释器。如果我们使用的工作流语言本身就是某种编程语言，那么 `interpreter` 就直接用现成的就好了，例如，我们可以用 Groovy 来编写 DSL, 类似于 jenkins 里的 Jenkinsfile，然后直接使用 groovy 解释器来运行就好了。如果我们使用 yaml 这类并不能直接被编译器/解释器识别的语言，就需要我们自己编写一个解释器去执行它, 例如 `argo` 的方案。

### 控制/io/可视化

对于工作流引擎的使用者来说，工作流的以下几点才是最重要的:
* 丰富的执行模型是否丰富可控性，是否能，以及可视化编排才是最重要的。

### 操作原子化和逻辑复用

### 产品对比
